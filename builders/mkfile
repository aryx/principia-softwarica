# -*- sh -*-
TOP=..

SYNCFLAGS=-md5sum_in_auxfile -less_marks -lang C

VERSION=5
DOC=Make

# set of noweb (.nw) files
# must be in the same order of the #include for syncweb multi files support
# to work
SRC_ORIG=Make.nw Make_extra.nw

SRC_VIEWS= \
    mk/fns.h\
    mk/mk.h\
     mk/globals.c\
    mk/bufblock.c\
    mk/symtab.c\
    mk/rc.c\
    mk/word.c\
    mk/var.c\
    mk/plan9.c\
    mk/archive.c\
    mk/match.c\
    mk/env.c\
    mk/parse.c\
    mk/shprint.c\
    mk/rule.c\
    mk/lex.c\
    mk/file.c\
    mk/run.c\
    mk/graph.c\
    mk/mk.c\
    mk/recipe.c\
    mk/varsub.c\
     mk/dumpers.c\
    mk/main.c\
     mk/utils.c\

# also ROOT/tests/mk/hello.mk and a ton of other tests mkfiles
#  mentioned in Make.nw as examples.

<$TOP/docs/latex/mkcommon

xxx:V:
	/home/pad/github/syncweb/syncweb -to_noweb Make.nw 
#	/home/pad/packages/MacOS/stow/noweb/bin/noweave  -autodefs c -filter btdefn -index -latex -delay Make.nw_noweb.nw > Make.tex
	/home/pad/packages/MacOS/stow/noweb/bin/noweave -filter btdefn -index -latex -delay Make.nw_noweb.nw > Make.tex
    pdflatex Make.tex
